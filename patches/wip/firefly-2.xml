<patch>
    <pipelines>
        <pipeline in="channel1" out="movement">
            <shader frag="Movement">
                <paramTexture name="last" value="last-channel1"/>
            </shader>
        </pipeline>

        <pipeline in="channel1" out="colorful">
            <shader frag="Huerific"/>
            <shader frag="HSVOffset">
                <paramTime name="hueOffset"/>
            </shader>
        </pipeline>

        <pipeline in="channel1" out="out">
            <shader frag="MixMask">
                <paramTexture name="secondTex" value="colorful"/>
                <paramTexture name="mask" value="movement"/>
                <paramFloat name="threshold" value="0.2"/>
            </shader>
            <shader frag="Mix">
                <paramTexture name="secondTex" value="last-out"/>
                <paramFloat name="amount" value="0.8"/>
                <paramInt name="method" value="1"/>
            </shader>
        </pipeline>
   </pipelines>
</patch>
