<patch>
    <pipelines>
        <pipeline in="channel1" out="scharr-scaled">
            <shader vert="Convolution" frag="Scharr">
		    <paramInt name="scale" value="3"/>
	    </shader>
	</pipeline>
        <pipeline in="channel1" out="pinwheel">
            <shader frag="Huerific"/>
            <shader frag="HSVOffset">
                <paramTime name="hueOffset"/>
            </shader>
            <shader frag="MixPinwheel">
                <paramTexture name="secondTex" value="scharr-scaled"/>
                <paramWave name="anchorX" shape="sin"/>
                <paramFloat name="anchorY" value="0.5"/>
                <paramFloat name="speed" value="0.4"/>
            </shader>
        </pipeline>
        <pipeline in="pinwheel" out="out">
            <shader vert="Convolution" frag="Scharr"/>
            <shader frag="MixPinwheel">
                <paramTexture name="secondTex" value="pinwheel"/>
                <paramWave name="anchorX" shape="cos"/>
                <paramWave name="anchorY" shape="sin"/>
                <paramFloat name="speed" value="0.5"/>
            </shader>
            <shader frag="ColorDisplace">
                <paramFloat name="speed" value="0.5"/>
            </shader>
        </pipeline>
   </pipelines>
</patch>
